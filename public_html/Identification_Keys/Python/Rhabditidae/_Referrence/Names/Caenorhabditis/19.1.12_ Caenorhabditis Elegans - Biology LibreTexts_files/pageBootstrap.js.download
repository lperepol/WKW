!function(e,t,i,n,a,r,o,s,c,l,m,d,u,g){"use strict";function f(e,t,i,n,a,r,o){try{var s=e[r](o),c=s.value}catch(e){return void i(e)}s.done?t(c):Promise.resolve(c).then(n,a)}(0,i.populateSettingsFromElement)("mt-global-settings",l.PageTitleEditor.settingsKeys),(0,e.setMartianSettings)(m.standardMartianSettings),(0,t.populateTranslationsFromElement)("mt-localizations-dialog");var h=new g.Uri(document.location.href);void 0!==history.replaceState&&h.getQueryParam("mt-embedded")&&history.replaceState(null,"",h.removeQueryParam("mt-embedded").toString()),(0,i.populateSettingsFromElement)("mt-global-settings",a.PageViewAnalytics.settingsKeys),a.PageViewAnalytics.instance.log(),(0,c.onDocumentReady)((function(){var e=r.PageViewConsumptionAnalytics.instance;TimeMe.initialize({idleTimeoutInSeconds:1900}),[0,10,30,60,120,180,240,300,600,1800].forEach((function(t){TimeMe.callAfterTimeElapsedInSeconds(t,(function(){e.log({secondsOnPage:t})}))}))})),(0,c.onWindowLoad)((function(){(0,i.populateSettingsFromElement)("mt-global-settings",o.PageViewPerformanceAnalytics.settingsKeys),setTimeout((function(){o.PageViewPerformanceAnalytics.instance.log()}),0)})),(0,c.onDocumentReady)((function(){var e=document.querySelector(".mt-last-updated");if(e){var a=e.dataset.timestamp;e.textContent=(0,s.pageLastUpdatedTimestamp)(new Date(a))}var r=n.InteractionAnalytics.instance;(0,c.elementArray)(n.InteractionAnalytics.selector).forEach((function(e){e.addEventListener("click",(function(e){r.handleClick(e)}))}));var o,m=(0,i.hasSetting)("translatedLanguage")&&(0,i.getSetting)("translatedLanguage").length>0;(0,i.getSetting)("userIsSeated")&&!m&&((0,c.elementArray)(".mt-dekiscript-error-toggle").forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.parentElement.querySelector(".mt-dekiscript-error-callstack");"none"===window.getComputedStyle(t).display?t.style.display="block":t.style.display="none"}))})),(o=regeneratorRuntime.mark((function e(){var i,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=document.querySelector("h1#title"))||"true"!==i.dataset.titleEditorAvailable){e.next=9;break}return(0,t.populateTranslationsFromElement)("mt-localizations-page-title-editor"),n=new URL(window.location.href),e.next=6,l.PageTitleEditor.create({version:i.dataset.titleEditorVersion||"modern",learningPathId:n.searchParams.get("mt-learningpath"),onsuccess:function(e){if(e.detail.newUri)return d.ui.FlashReload(e.detail.successMessage,"success"),void(window.location.href=e.detail.newUri);d.ui.EmptyFlash("success"),d.ui.Flash(e.detail.successMessage,"success")},onredirectdetected:function(){u.Dialog.create({title:(0,t.localize)("Dialog.ConfirmRename.title"),content:(0,t.localize)("Dialog.ConfirmRename.error.redirect"),primaryButtonText:(0,t.localize)("Dialog.ConfirmRename.label.continue"),secondaryButtonText:(0,t.localize)("Dialog.ConfirmRename.label.cancel"),f1Title:(0,t.localize)("Dialog.ConfirmRename.label.f1-link"),f1Url:"https://success.mindtouch.com/@go/cid/redirectclobber",onconfirm:function(){a.submitWithRedirectsIgnored()}})}});case 6:a=e.sent,(0,c.removeChildren)(i),i.appendChild(a.element);case 9:case"end":return e.stop()}}),e,this)})),function(){var e=this,t=arguments;return new Promise((function(i,n){var a=o.apply(e,t);function r(e){f(a,i,n,r,s,"next",e)}function s(e){f(a,i,n,r,s,"throw",e)}r(void 0)}))})())}))}(this.Deki._mtLib.srcLibMartianSettingsManager,this.Deki._mtLib.srcLibLocalizer,this.Deki._mtLib.srcLibEnvironmentSettings,this.Deki._mtLib.srcAnalyticsInteractionAnalytics,this.Deki._mtLib.srcAnalyticsPageViewAnalytics,this.Deki._mtLib.srcAnalyticsPageViewConsumptionAnalytics,this.Deki._mtLib.srcAnalyticsPageViewPerformanceAnalytics,this.Deki._mtLib.srcUiDateTimeUtility,this.Deki._mtLib.srcUiDomTools,this.Deki._mtLib.srcComponentsPageTitleEditorPageTitleEditor,this.Deki._mtLib.srcLibMartianSettings,this.Deki._mtLib.srcCommunityDekiUi,this.Deki._mtLib.srcComponentsDialogDialog,this.Deki._mtLib.srcUiUri);